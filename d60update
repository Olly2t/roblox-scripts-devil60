local rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

local window = rayfield:CreateWindow({
    Name = "Devil60 Premium",
    Icon = nil,
    LoadingTitle = "Devil60 Universal Premium",
    LoadingSubtitle = "by Devil60",
    Theme = "Amethyst",
    DisableRayfieldPrompts = false,
    DisableBuildWarnings = false,
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "saves",
        FileName = "Big Hub"
    },
    Discord = {
        Enabled = false,
        Invite = "noinvitelink",
        RememberJoins = true
    },
    KeySystem = false,
    KeySettings = {
        Title = "Devil60 Universal",
        Subtitle = "Key System",
        Note = "No method of obtaining the key is provided",
        FileName = "Key",
        SaveKey = true,
        GrabKeyFromSite = false,
        Key = {"Hey"}
    }
})

-- Home Tab
local homeTab = window:CreateTab("Home")
local homeSection = homeTab:CreateSection("Home")
homeTab:CreateParagraph({
    Title = "Welcome To Devil60 Universal Premium",
    Content = "Hello Guys, This Is My First Ever Script Hub. More Games Are Releasing Soon!\nI Just Wanted To Show What I Can Do With Remote Functions, e.g., Hotel Elephant With The Remote Money Feature.\nI Will Be Publishing More Scripts Soon And More Menus / Tab Updates Soon!"
})

-- Server-Side Scripts Tab
local ssTab = window:CreateTab("SS Scripts")
local ssSection = ssTab:CreateSection("All These Universal Scripts Are Server-Sided So Others Can See!")

-- Client-Side Scripts Tab
local csTab = window:CreateTab("CS Scripts")
local csSection = csTab:CreateSection("All These Universal Scripts Are Client-Sided So Others Can't See!")

-- Hotel Elephant Tab
local hotelTab = window:CreateTab("Hotel Elephant Give")
local hotelSection = hotelTab:CreateSection("WARNING: There are a lot of money options, so spend wisely!")

-- Voice Chat Options Tab
local vcTab = window:CreateTab("Voice Chat Options")
local vcSection = vcTab:CreateSection("For the unban, you cannot use it when leaving the game or exiting Roblox. As soon as you get banned, run the script!")

-- Settings Tab
local settingsTab = window:CreateTab("Settings")
local settingsSection = settingsTab:CreateSection("Change Theme")

-- Helper Functions
local function createButton(tab, name, url)
    tab:CreateButton({
        Name = name,
        Callback = function()
            loadstring(game:HttpGet(url))()
        end
    })
end

-- Adding Buttons
createButton(homeTab, "Destroy", "https://sirius.menu/rayfield")
createButton(ssTab, "Universal HUG R15 R6", "https://raw.githubusercontent.com/JSFKGBASDJKHIOAFHDGHIUODSGBJKLFGDKSB/fe/refs/heads/main/FEHUGG")
createButton(ssTab, "Universal Usercreation V4", "https://raw.githubusercontent.com/1price/usercreation/refs/heads/main/UserCreation.lua")
createButton(ssTab, "Universal Chat Art Press E", "https://raw.githubusercontent.com/AKadminlol/Chatdraw/refs/heads/main/Chattdraw")
createButton(ssTab, "Universal Invisible GUI Server-Sided", "https://raw.githubusercontent.com/Bebo-Mods/BeboScripts/main/UniversalInvis.lua")
createButton(ssTab, "Universal Global Chat Join Anyone", "https://raw.githubusercontent.com/ThacG/Xyros/refs/heads/main/test")
createButton(ssTab, "Universal Game Prober", "https://raw.githubusercontent.com/Joystickplays/gameprober-lua/main/gp.lua")
createButton(ssTab, "Universal DEX Explorer", "https://cdn.wearedevs.net/scripts/Dex%20Explorer.txt")
createButton(ssTab, "Universal Infinite Yield FE", "https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source")
createButton(csTab, "Universal C00LKID GUI", "game:GetObjects('rbxassetid://8127297852')[1].Source")
createButton(csTab, "Universal Gun", "https://pastebin.com/raw/cYzyGWyY")
createButton(csTab, "Universal Grab Knife V4", "https://raw.githubusercontent.com/retpirato/Roblox-Scripts/refs/heads/master/Grab%20Knife%20V4.lua")
createButton(hotelTab, "Universal ESP WITH HP AND NAME", "https://pastebin.com/raw/sdg1EUwB")
createButton(vcTab, "VC UNBAN", "https://raw.githubusercontent.com/Olly2t/roblox-scripts-devil60/refs/heads/main/VCUNBAN%20MODULE")

-- Player Selection for Money
local selectedPlayer = nil
local playerDropdown = hotelTab:CreateDropdown({
    Name = "Select Player",
    Options = {},
    CurrentOption = {"Select a Player"},
    MultipleOptions = false,
    Flag = "PlayerDropdown",
    Callback = function(player)
        selectedPlayer = player
    end
})

-- Update Player List
local function updatePlayerList()
    local players = {}
    for _, player in pairs(game.Players:GetPlayers()) do
        table.insert(players, player.Name)
    end
    playerDropdown:UpdateList(players)
    if not selectedPlayer and #players > 0 then
        selectedPlayer = players[1]
    end
end

game.Players.PlayerAdded:Connect(updatePlayerList)
game.Players.PlayerRemoving:Connect(updatePlayerList)

-- Money Input and Apply Changes
local moneyInput = hotelTab:CreateInput({
    Name = "Money Value",
    CurrentValue = "",
    PlaceholderText = "Enter Money Value",
    RemoveTextAfterFocusLost = false,
    Flag = "Input2",
    Callback = function() end
})

hotelTab:CreateButton({
    Name = "Apply Changes",
    Callback = function()
        if not selectedPlayer or selectedPlayer == "" then
            rayfield:Notify({
                Title = "Error",
                Content = "Player name cannot be empty!",
                Duration = 3
            })
            return
        end

        local moneyValue = tonumber(moneyInput.Text)
        if not moneyValue or moneyValue <= 0 then
            rayfield:Notify({
                Title = "Error",
                Content = "Invalid money value!",
                Duration = 3
            })
            return
        end

        local targetPlayer = nil
        for _, player in pairs(game.Players:GetPlayers()) do
            if player.Name == selectedPlayer then
                targetPlayer = player
                break
            end
        end

        if targetPlayer then
            game:GetService("ReplicatedStorage").MoneyRequest:FireServer(false, moneyValue, "Cash", targetPlayer)
            rayfield:Notify({
                Title = "Success",
                Content = "Money sent to player!",
                Duration = 5
            })
        else
            rayfield:Notify({
                Title = "Error",
                Content = "Player not found!",
                Duration = 3
            })
        end
    end
})

-- Theme Buttons
local themes = {"Default", "Amber Glow", "Amethyst", "Bloom", "Dark Blue", "Green", "Light", "Ocean", "Serenity"}
for _, theme in ipairs(themes) do
    settingsTab:CreateButton({
        Name = theme,
        Callback = function()
            window:UpdateSettings({ Theme = theme })
        end
    })
end
